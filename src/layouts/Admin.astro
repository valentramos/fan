---
import "@/styles/globals.css";
import BaseHead from "../components/BaseHead.astro";
import { ModeToggle } from "@/components/ModeToggle";
import {
    Card,
    CardHeader,
    CardTitle,
    CardDescription,
    CardContent,
} from "../components/ui/card";
import {
    Bell,
    CircleUser,
    Home,
    LineChart,
    Link,
    Menu,
    Package,
    Package2,
    Search,
    ShoppingCart,
    Users,
} from "lucide-react";
const { title, description, keywords, image } = Astro.props;
---

<script is:inline data-astro-rerun>
    const getThemePreference = () => {
        if (
            typeof localStorage !== "undefined" &&
            localStorage.getItem("theme")
        ) {
            return localStorage.getItem("theme");
        }
        return window.matchMedia("(prefers-color-scheme: dark)").matches
            ? "dark"
            : "light";
    };
    const isDark = getThemePreference() === "dark";
    document.documentElement.classList[isDark ? "add" : "remove"]("dark");

    if (typeof localStorage !== "undefined") {
        const observer = new MutationObserver(() => {
            const isDark = document.documentElement.classList.contains("dark");
            localStorage.setItem("theme", isDark ? "dark" : "light");
        });
        observer.observe(document.documentElement, {
            attributes: true,
            attributeFilter: ["class"],
        });
    }
</script>

<html lang="es">
    <BaseHead
        title={title}
        description={description}
        keywords={keywords}
        image={image}
    />
    <body>
        <div
            class="grid min-h-screen w-full md:grid-cols-[220px_1fr] lg:grid-cols-[280px_1fr]"
        >
            <div class="hidden border-r bg-muted/40 md:block">
                <div class="flex h-full max-h-screen flex-col gap-2">
                    <div
                        class="flex h-14 items-center border-b px-4 lg:h-[60px] lg:px-6"
                    >
                        <img
                            src="/favicon.svg"
                            class="mr-3 h-8 sm:h-8"
                            alt="Valent Logo"
                        />
                        <CardTitle>Vinance</CardTitle>
                    </div>
                    <div class="flex-1">
                        <nav
                            class="grid items-start px-2 text-sm font-medium lg:px-4"
                        >
                            <div
                                class="flex items-center gap-3 rounded-lg px-3 py-2 text-muted-foreground transition-all hover:text-primary"
                            >
                                <Users className="h-4 w-4" />
                                <a href="dashboard">Dashboard</a>
                            </div>
                            <div
                                class="flex items-center gap-3 rounded-lg px-3 py-2 text-muted-foreground transition-all hover:text-primary"
                            >
                                <Users className="h-4 w-4" />
                                <a href="/admin/proyectos">Proyectos</a>
                            </div>
                            <div
                                class="flex items-center gap-3 rounded-lg px-3 py-2 text-muted-foreground transition-all hover:text-primary"
                            >
                                <Users className="h-4 w-4" />
                                <a href="areas">√Åreas</a>
                            </div>
                        </nav>
                    </div>
                    <div class="mt-auto p-4">alibaba</div>
                </div>
            </div>
            <div class="flex flex-col">
                <header
                    class="flex h-14 items-center gap-4 border-b bg-muted/40 px-4 lg:h-[60px] lg:px-6"
                >
                    Bienvenido Valent
                    <div class="w-full flex-1">
                        ignacio1994.ir@gmail.com
                    </div>
                    <ModeToggle client:load />
                </header>
                <main
                    class="flex flex-1 flex-col gap-4 p-4 lg:gap-6 lg:p-6"
                >
                    <slot />
                </main>
            </div>
        </div>
    </body>
</html>
